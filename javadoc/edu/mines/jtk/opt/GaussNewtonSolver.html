<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_33) on Wed Jun 20 10:52:18 MDT 2012 -->
<TITLE>
GaussNewtonSolver (MinesJTK)
</TITLE>

<META NAME="date" CONTENT="2012-06-20">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="GaussNewtonSolver (MinesJTK)";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/GaussNewtonSolver.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../edu/mines/jtk/opt/CoordinateTransform.html" title="class in edu.mines.jtk.opt"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../edu/mines/jtk/opt/LinearTransform.html" title="interface in edu.mines.jtk.opt"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?edu/mines/jtk/opt/GaussNewtonSolver.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="GaussNewtonSolver.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
edu.mines.jtk.opt</FONT>
<BR>
Class GaussNewtonSolver</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../../../resources/inherit.gif" ALT="extended by "><B>edu.mines.jtk.opt.GaussNewtonSolver</B>
</PRE>
<HR>
<DL>
<DT><PRE>public class <B>GaussNewtonSolver</B><DT>extends java.lang.Object</DL>
</PRE>

<P>
Solve least-squares inverse of a non-linear Transform.
 See QuadraticSolver to solve least-squares inverse of a linear Transform.
<P>

<P>
<DL>
<DT><B>Author:</B></DT>
  <DD>W.S. Harlan</DD>
</DL>
<HR>

<P>

<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../edu/mines/jtk/opt/GaussNewtonSolver.html#setExpensiveDebug(boolean)">setExpensiveDebug</A></B>(boolean&nbsp;debug)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Turn on expensive checking of transform and vector properties
 during solving of equations.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="../../../../edu/mines/jtk/opt/Vect.html" title="interface in edu.mines.jtk.opt">Vect</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../edu/mines/jtk/opt/GaussNewtonSolver.html#solve(edu.mines.jtk.opt.VectConst, edu.mines.jtk.opt.VectConst, edu.mines.jtk.opt.VectConst, edu.mines.jtk.opt.Transform, boolean, int, int, int, double, edu.mines.jtk.util.Monitor)">solve</A></B>(<A HREF="../../../../edu/mines/jtk/opt/VectConst.html" title="interface in edu.mines.jtk.opt">VectConst</A>&nbsp;data,
      <A HREF="../../../../edu/mines/jtk/opt/VectConst.html" title="interface in edu.mines.jtk.opt">VectConst</A>&nbsp;referenceModel,
      <A HREF="../../../../edu/mines/jtk/opt/VectConst.html" title="interface in edu.mines.jtk.opt">VectConst</A>&nbsp;perturbModel,
      <A HREF="../../../../edu/mines/jtk/opt/Transform.html" title="interface in edu.mines.jtk.opt">Transform</A>&nbsp;transform,
      boolean&nbsp;dampOnlyPerturbation,
      int&nbsp;conjugateGradIterations,
      int&nbsp;lineSearchIterations,
      int&nbsp;linearizationIterations,
      double&nbsp;lineSearchError,
      <A HREF="../../../../edu/mines/jtk/util/Monitor.html" title="interface in edu.mines.jtk.util">Monitor</A>&nbsp;monitor)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Solve nonquadratic objective function with Gauss Newton iterations.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="solve(edu.mines.jtk.opt.VectConst, edu.mines.jtk.opt.VectConst, edu.mines.jtk.opt.VectConst, edu.mines.jtk.opt.Transform, boolean, int, int, int, double, edu.mines.jtk.util.Monitor)"><!-- --></A><H3>
solve</H3>
<PRE>
public static <A HREF="../../../../edu/mines/jtk/opt/Vect.html" title="interface in edu.mines.jtk.opt">Vect</A> <B>solve</B>(<A HREF="../../../../edu/mines/jtk/opt/VectConst.html" title="interface in edu.mines.jtk.opt">VectConst</A>&nbsp;data,
                         <A HREF="../../../../edu/mines/jtk/opt/VectConst.html" title="interface in edu.mines.jtk.opt">VectConst</A>&nbsp;referenceModel,
                         <A HREF="../../../../edu/mines/jtk/opt/VectConst.html" title="interface in edu.mines.jtk.opt">VectConst</A>&nbsp;perturbModel,
                         <A HREF="../../../../edu/mines/jtk/opt/Transform.html" title="interface in edu.mines.jtk.opt">Transform</A>&nbsp;transform,
                         boolean&nbsp;dampOnlyPerturbation,
                         int&nbsp;conjugateGradIterations,
                         int&nbsp;lineSearchIterations,
                         int&nbsp;linearizationIterations,
                         double&nbsp;lineSearchError,
                         <A HREF="../../../../edu/mines/jtk/util/Monitor.html" title="interface in edu.mines.jtk.util">Monitor</A>&nbsp;monitor)</PRE>
<DL>
<DD>Solve nonquadratic objective function with Gauss Newton iterations.
 Minimizes
 <pre>
 [f(m+x)-data]'N[f(m+x)-data] + (m+x)'M(m+x)
 </pre>
 if dampOnlyPerturbation is true and
 <pre>
 [f(m+x)-data]'N[f(m+x)-data] + (x)'M(x)
 </pre>
 if dampOnlyPerturbation is false.
 <p/>
 m is the reference model and x is the perturbation of that model,
 Returns full solution m+x.
 <p/>
 <p/>
 Iterative linearization of f(m+x) ~= f(m) + Fx makes the objective
 function quadratic in x: [f(m)+Fx-data]'N[f(m)+Fx-data] + (m+x)'M(m+x)
 x is solved with the specified number of conjugate gradient iterations.
 This perturbation is then scaled after searching the nonquadratic
 objective function with the specified number of line search iterations.
 The scaled perturbation x is added to the previous reference model m
 to update the new reference model m.  Relinearization is repeated for
 the specified number of linearization iterations. Cost is proprotional to
 <pre>
 linearizationIterations*( 2* conjugateGradIterations + lineSearchIterations );
 </pre>
 Hard constraints, if any, will be applied during line searches, and
 to the final result.
 <p/>
 "Line search error" is an acceptable fraction of imprecision
 in the scale factor for the line search.  A very small value
 will cause the maximum number of line seach iterations to be used.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>data</CODE> - The data to be fit.<DD><CODE>referenceModel</CODE> - This is the starting velocity model.
                                The optimized model will be a revised instance of this class.<DD><CODE>perturbModel</CODE> - If non-null, then use instances of this
                                model to perturb the reference model.  It must be possible
                                to project between the perturbed and reference model.
                                The initial state of this vector is ignored.<DD><CODE>transform</CODE> - Describes the linear or nonlinear transform.<DD><CODE>dampOnlyPerturbation</CODE> - If true then, only damp perturbations
                                to model. If false, then damp the reference model plus
                                the perturbation.<DD><CODE>linearizationIterations</CODE> - Number of times to relinearize
                                the non-linear transform. Set to 1 if transform is already linear.
                                (Anything less than 1 will be set to 1)<DD><CODE>lineSearchIterations</CODE> - Number of iterations for a a line
                                search to scale a pertubation before adding to reference model.
                                Recommend 20 or greater.  Use 0 if you want to disable the
                                line search altogether and add the perturbation with a scale
                                factor of 1.<DD><CODE>conjugateGradIterations</CODE> - The specified number of conjugate
                                gradient iterations.<DD><CODE>lineSearchError</CODE> - is an acceptable fraction of imprecision
                                in the scale factor for the line search. Recommend 0.001 or smaller.<DD><CODE>monitor</CODE> - Report progress here, if non-null.
<DT><B>Returns:</B><DD>Result of optimization, using a cloned instance of referenceModel.</DL>
</DD>
</DL>
<HR>

<A NAME="setExpensiveDebug(boolean)"><!-- --></A><H3>
setExpensiveDebug</H3>
<PRE>
public static void <B>setExpensiveDebug</B>(boolean&nbsp;debug)</PRE>
<DL>
<DD>Turn on expensive checking of transform and vector properties
 during solving of equations.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>debug</CODE> - If true, then turn on expensive debugging.</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/GaussNewtonSolver.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../edu/mines/jtk/opt/CoordinateTransform.html" title="class in edu.mines.jtk.opt"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../edu/mines/jtk/opt/LinearTransform.html" title="interface in edu.mines.jtk.opt"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?edu/mines/jtk/opt/GaussNewtonSolver.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="GaussNewtonSolver.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
